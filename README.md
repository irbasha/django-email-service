﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿# django-email-serviceThis is a simple django application which allows you to send email to a single user or multiple users.This guide will walk you through the installation procedure on Ubuntu 18.04 Server. # Prerequisites:- Python3- Django v2.1- Java v8 or above- ELK Stack# Installation- Login to VM as a root user```$ sudo su```- Install and Setup ELK Stack. Please refer to the installation instructions from official website [Elasticsearch](https://www.elastic.co/downloads/elasticsearch), [Logstash](https://www.elastic.co/downloads/logstash), [Kibana](https://www.elastic.co/downloads/kibana).- After seting up ELK Stack, ensure that it runs properly. Go to `localhost:9200` and `localhost:5601` for elasticsearch and kibana resepectively. Make sure to start and enable each process from command line before checking.- Create `logstash.conf` file in logstash installation folder and add the below lines to the file and save it. It tells logstash from where to take the input and where to output the data.```input {    tcp {    port => 5044    codec => json  }}output {  elasticsearch {    hosts => ["localhost:9200"]  }}```- Allow the traffic through your tcp ports (9200, 5601) in your firewall```$ firewall-cmd --add-port=9200/tcp$ firewall-cmd --add-port=9200/tcp --permanent```- Increase the file limits to get performance. Add below lines to `/etc/security/limits.conf```` *        soft   nofile   64000 *        hard   nofile   64000 root     soft   nofile   64000 root     hard   nofile   64000```- Reload and restart service```$ systemctl daemon-reload$ systemctl restart logstash```- Install python's vitualenv package using pip```$ pip3 install virtualenv```- Create a Virtual Environment and activate it. Here, `py3env` is the name we are giving for the virtual environment. You can give your own different name.```$ virtualenv -p /usr/bin/python3 py3env$ source py3env/bin/activate```- Set Environment variables for django to read emailid and password for your gmail account. Our application will use your Gmail Account to trigger email id.```$ export EMAIL_USER='<YOUR GMAIL ACCOUNT EMAIL ID HERE>' && export EMAIL_AUTH='<PASSWORD HERE>'```- Download our Software Package `django-email-service` from the link shared seperately- Unzip the Folder```$ unzip django-email-service```- Install Application requirements from `requirements.txt` available in django-email-service folder```$ cd django-email-service/$ pip3 install requirements.txt```- Move to EmailService directory which is our django project```$ cd EmailService/```- Create superuser account. Will be used for managing application and receive statistics report. Please provide valid username, emailid and a strong password. Same emailid will be used for generating statistics reports.```$ python manage.py createsuperuser```- Migrate and apply the fresh changes```$ python manage.py makemigrations$ python manage.py migrate```- Run Django Server```$ python manage.py runserver```# Usage- Access the application on browser with the url `http://localhost:8000`- Login with admin credentials or Create a user account with signup option if needed.- Once logged in, use the compose email form available to send email to any user, it supports multiple email to multipls users too. It also supports email's bcc and cc feature.- You can also upload csv file with list of email ids to send email to all users.- Verify all the information and error logs logs from kibana dashboard. Go to Kibana dashoard by accessing the url `http://localhost:5601` and view all the logs.- This application also sends statistics report to the admin email id every 30 minutes. Email Id configured while creating superuser account.# Release History